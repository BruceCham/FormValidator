define("BruceCham/FormValidator/1.0.0/FormValidator",[],function(a,b,c){"use strict";function d(a,b){var c=this;this.form=a,this.options=$.extend({},h,b),this.methods=$.extend({},i),this.fields=a.find(g),this.allowed_rules=[],this.errors={},c._novalidate_old=c.form.attr("novalidate");try{c.form.attr("novalidate","novalidate")}catch(d){}}var e="hbeclibFormValidator",f=['input:not([type]),input[type="color"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="email"],input[type="file"],input[type="hidden"],input[type="month"],input[type="number"],input[type="password"],input[type="range"],input[type="search"],input[type="tel"],input[type="text"],input[type="time"],input[type="url"],input[type="week"],textarea',"select",'input[type="checkbox"],input[type="radio"]'],g=f.join(","),h={isAjax:!1,onSubmit:!0,onBlur:!0,onChange:!1,onKeyup:!1,onInput:!0,wrapper:"div.control-group",success:{},fail:{},rules:{}},i={required:function(a,b){return null!==b&&$.trim(b).length>0},minlength:function(a,b,c,d){var e=$.trim(b.toString()).length,f=e>=c;return d.required||(f=f&&0!==e),f},maxlength:function(a,b,c){return $.trim(b.toString()).length<=c},minvalue:function(a,b,c){return parseFloat(b)>=parseFloat(c)},maxvalue:function(a,b,c){return parseFloat(b)<=parseFloat(c)},regex:function(a,b,c){return c.test(b)},email:function(a,b){var c=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return c.test($.trim(b))},url:function(a,b){var c=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return c.test(b)},equals:function(a,b,c){return b===c},ip:function(a,b){var c=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i;return c.test($.trim(b))},phone:function(a,b){var c=/^(1[^012][0-9]{9})$/i;return c.test($.trim(b))},alpha:function(a,b){var c=/^[a-z]*$/i;return c.test(b)},alpha_numeric:function(a,b){var c=/^[a-z0-9]*$/i;return c.test(b)},alpha_dash:function(a,b){var c=/^[a-z0-9_\-]*$/i;return c.test(b)},digit:function(a,b){var c=/^\d*$/;return c.test(b)},numeric:function(a,b,c){var c=c||null,d=/^([\+\-]?[0-9]+(\.[0-9]+)?)?$/;return d.test(b)?null==c||null==b.toString().match(/\./)?!0:b.toString().split(".")[1].length<=parseInt(c):!1},matches:function(a,b,c,d){var e=$.trim(b).length,f=b===this.fields.filter('[data-id="'+c+'"]').val();return d.required||(f=f&&0!==e),f}},j={required:"输入值不能为空",minlength:"输入值不能少于 :value 个字符",maxlength:"输入值不能超过 :value 个字符",minvalue:"最小值不能超过value",maxvalue:"最大值不能超过value",regex:"请输入正确的值",email:"请输入正确的邮箱格式,如:hbec@touker.com.cn",url:"请输入正确的url地址,如:http://www.touker.com",equals:"输入值必须等于 :value",ip:"请输入正确的ip地址格式,如:10.1.1.1",phone:"请输入正确的电话号码,如:18688888888",alpha:"输入值只能是a-z之间的小写字母",alpha_numeric:"输入值只能是a-z或0-9",alpha_dash:"输入值只能是a-z,0-9或下划线(_)和(-)",digit:"该项只能输入整数",numeric:"该项只能输入数字",matches:"请再次输入相同的值"};$.extend(d.prototype,{validate:function(){var a=this;a.fields.filter(f[0]).each(function(){var b=$(this);b.trigger([e,"validate"].join(":"),[a]),a.errors[b.data("id")]?a.renderError.call(a,$(this)):a.clearError.call(a,$(this))})},validateField:function(a,b){var c=$(this),d={},f=c.data("id"),g=null;if(!c.is(":disabled")&&!c.hasClass("disabled")){delete b.errors[f],g=c.is('[type="checkbox"], [type="radio"]')?c.is(":checked")?c.val():null:c.val();var h=b.options.rules[f],i=!0;if(h)if(h=h.split("|"),$.each(h,function(a,c){if(-1!==$.inArray(c,b.allowed_rules))d[c]=null;else{var e=c.split(":");2===e.length&&-1!==$.inArray(e[0],b.allowed_rules)&&(d[e[0]]=e[1])}}),$.each(d,function(a,c){return b.methods[a].call(b,f,g,c,d)!==!0?(b.errors[f]=b.format.call(b,f,a,c),i=!1,!1):(delete b.errors[f],void 0)}),i){var j=b.options.success[f];j&&j.call(b,c)}else{var k=b.options.fail[f];k&&k.call(b,c)}$(b).trigger([e,"validate"].join(":"),[c,function(a){b.errors[c.data("id")]=a}])}},format:function(a,b,c){var d;return d="undefined"!=typeof this.options.messages[a]&&"undefined"!=typeof this.options.messages[a][b]?this.options.messages[a][b]:j[b],"undefined"!==$.type(c)&&null!==c&&(("boolean"===$.type(c)||"string"===$.type(c)||"number"===$.type(c))&&(c={value:c}),$.each(c,function(a,b){d=d.replace(new RegExp(":"+a,"ig"),b)})),d},clearError:function(a){a=$(a);var b=a.closest("div.controls").children("div.help-block");null!==this.options.wrapper&&a.closest(this.options.wrapper).removeClass("control-group-error"),b.html("")},renderError:function(a){a=$(a);var b=a.closest("div.controls").children("div.help-block");null!==this.options.wrapper&&a.closest(this.options.wrapper).addClass("control-group-error"),0===b.length&&(b=$("<div/>",{"class":"help-block"}),a.closest("div.controls").children(":last").after(b)),b.html(this.errors[a.data("id")])},clearErrors:function(){},renderErrors:function(){},extendRules:function(a){$.extend(this.methods,a)},parseDom:function(){var a=this;a.fields.each(function(){var a=$(this),b="";a.data("id")||(b=a.attr("name")?a.attr("name"):a.attr("id"),a.attr("data-id",b),a.data("id",b))})},launched:function(){var a=this,b=a.options.onSubmit,c=a.options.onBlur,d=a.options.onChange,g=a.options.onKeyup,h=a.options.onInput;if(a.parseDom(),$.each(a.methods,function(b){a.allowed_rules.push(b)}),a.fields.each(function(){$(this).on([e,"validate"].join(":"),a.validateField)}),c||d||g||h){var i=[];c&&i.push("blur"),d&&i.push("change"),g&&i.push("keyup"),h&&i.push("input"),a.fields.filter(f[0]).each(function(){var b=$(this);b.on([i.join(" ")].join("."),function(){b.trigger([e,"validate"].join(":"),[a]),a.errors[b.data("id")]?a.renderError.call(a,this):a.clearError.call(a,this)})})}b&&(a.on("afterValidate",function(a,b){b.find('button[type="submit"]').addClass("disabled"),b.find('button[type="submit"]').attr("disabled",!0),b.find('button[type="submit"]').text("正在提交，请稍候")}),a.form.on(["submit"].join("."),function(){return $.isEmptyObject(a.errors)?(a.validate(),$.isEmptyObject(a.errors)?($(a).trigger([e,"afterValidate"].join(":"),[a.form]),void 0):!1):!1}))},destory:function(){},on:function(a,b){var c=this;switch(a){case"validate":$(c).on([e,a].join("."),function(a,d,e){if(!c.errors[d.data("id")]){var f=b(a,d,e);f&&delete c.errors[d.data("id")]}});break;case"afterValidate":$(c).on([e,a].join("."),function(a,c){b(a,c)})}}}),c.exports=function(a,b){return"string"==typeof a&&(a=$(a)),new d(a,b)},c.exports.methods=i,c.exports.messages=j});
